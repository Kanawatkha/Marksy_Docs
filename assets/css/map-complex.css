/* =========================================
   Complex Map Engine (CSS Grid Based)
   เลียนแบบผังตลาดจริง (มีถนน, โซน A/B/M, ลานจอด)
   ========================================= */

/* 1. Map Container (กล่องรวมแผนที่) */
.market-map-wrapper {
    background-color: #fff;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    overflow-x: auto;
    /* เลื่อนซ้ายขวาได้ถ้าจอเล็ก */
    position: relative;
    min-width: 800px;
    /* บังคับความกว้างขั้นต่ำเพื่อให้ผังไม่เบี้ยว */
}

/* 2. Road Layer (ถนนนนทบุรี ด้านบน) */
.map-road {
    height: 60px;
    background-color: #cfd8dc;
    /* สีเทาถนน */
    border-radius: 10px;
    margin-bottom: 20px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #546e7a;
    font-weight: bold;
    font-size: 1.2rem;
    transform: skewX(-10deg);
    /* เอียงนิดๆ ให้ดูมีมิติเหมือนภาพ */
    width: 95%;
    margin-left: auto;
    /* ชิดขวา */
}

.map-road::before {
    content: '';
    /* เส้นประกลางถนน */
    position: absolute;
    width: 100%;
    height: 2px;
    background: repeating-linear-gradient(90deg, #546e7a, #546e7a 10px, transparent 10px, transparent 20px);
}

/* 3. Main Market Grid (โครงสร้างหลักตลาด) */
.market-layout {
    display: grid;
    grid-template-columns: 80px 1fr 200px;
    /* ซ้าย(A) - กลาง(B+M) - ขวา(Aใหญ่) */
    grid-template-rows: auto auto auto;
    /* บน(A29) - กลาง(ร้านค้า) - ล่าง(Aแถวเดียว) */
    gap: 15px;
    padding: 20px;
    background-color: #f5f5f5;
    /* พื้นหลังตลาด */
    border-radius: 20px;
    border: 2px solid #e0e0e0;
    position: relative;
}

/* --- ZONES STYLING --- */

/* Zone A (สีน้ำตาล - รอบนอก) */
.zone-a {
    background-color: #8d6e63;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: transform 0.2s;
}

.zone-a:hover {
    transform: translateY(-2px);
    filter: brightness(1.1);
}

/* Zone B (สีชมพู - เสื้อผ้า) */
.zone-b {
    background-color: #ec407a;
    color: white;
    border-radius: 4px;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

/* Zone M (สีเขียว - ตรงกลาง) */
.zone-m {
    background-color: #66bb6a;
    color: white;
    border-radius: 4px;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

/* Zone Orange (ลานต้นสัก) */
.zone-orange {
    background-color: #ffa726;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    font-weight: bold;
}

/* --- SPECIFIC AREAS (เจาะจงตำแหน่งตามภาพ) --- */

/* พื้นที่ด้านบน (A-29 & ลานต้นสัก 1) */
.top-area {
    grid-column: 1 / -1;
    /* กินพื้นที่เต็มความกว้าง */
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.block-a29 {
    width: 200px;
    height: 100px;
    background-color: #8d6e63;
    /* น้ำตาลเข้ม A-29 */
    border-radius: 10px;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5rem;
    font-weight: bold;
}

.tonsak-1 {
    flex-grow: 1;
    margin-left: 20px;
    background-color: #ffa726;
    border-radius: 10px 50px 10px 10px;
    /* ทำมุมโค้งเหมือนภาพ */
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 1.2rem;
}

/* พื้นที่ตรงกลาง (Main Body) */
.left-column {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.left-column .zone-a {
    height: 60px;
}

/* A-01 ถึง A-05 */

.center-column {
    display: grid;
    grid-template-columns: 1fr 1fr;
    /* แบ่งครึ่ง B(ซ้าย) กับ M(ขวา) */
    gap: 15px;
    background: #fff;
    padding: 10px;
    border-radius: 10px;
}

/* Grid ย่อยสำหรับ Zone B (ชมพู) */
.grid-zone-b {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    /* 4 ล็อกต่อแถว */
    grid-template-rows: repeat(6, 40px);
    gap: 4px;
}

.zone-label {
    grid-column: 1 / -1;
    text-align: center;
    font-size: 0.8rem;
    color: #ec407a;
    font-weight: bold;
    background: #fce4ec;
    border-radius: 4px;
    margin: 5px 0;
}

/* Grid ย่อยสำหรับ Zone M (เขียว) */
.grid-zone-m {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    /* 5 ล็อกต่อแถว */
    grid-template-rows: repeat(6, 40px);
    gap: 4px;
}

.zone-m-label {
    grid-column: 1 / -1;
    text-align: center;
    color: #66bb6a;
    font-weight: bold;
    padding: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ขวามือ (A-24 ใหญ่) */
.right-column {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.block-a24 {
    height: 150px;
    background-color: #8d6e63;
    color: white;
    font-size: 1.5rem;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 8px;
}

.zone-g {
    background-color: #ef5350;
    /* G-Zone สีแดง */
    color: white;
    padding: 10px;
    text-align: center;
    border-radius: 4px;
    margin-top: auto;
}

/* พื้นที่ด้านล่าง (A แถวล่าง A-07...) */
.bottom-row {
    grid-column: 1 / -1;
    display: flex;
    gap: 5px;
    margin-top: 10px;
}

.bottom-row .zone-a {
    flex: 1;
    height: 40px;
    font-size: 0.8rem;
}

/* 4. Parking & Office Layer (ลานจอดด้านล่างสุด) */
.facilities-layer {
    margin-top: 20px;
    display: grid;
    grid-template-columns: 150px 1fr 150px;
    gap: 20px;
    align-items: end;
}

.ca-zone {
    background-color: #0277bd;
    /* สีฟ้า CA */
    color: white;
    padding: 20px;
    border-radius: 10px 10px 0 20px;
    /* มุมโค้งแปลกๆ ตามภาพ */
    text-align: center;
}

.parking-lot {
    background-color: #eceff1;
    height: 80px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: space-around;
    border: 2px dashed #b0bec5;
    position: relative;
}

.car-icon {
    color: #546e7a;
    /* Icon รถ */
    font-size: 1.5rem;
}

.office-zone {
    background-color: #546e7a;
    /* สีเทาเข้ม Office */
    color: white;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
}

/* 5. Tooltip & Interactions */
[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 100;
}

/* สถานะสีสำหรับ Owner Page */
.status-booked {
    background-color: #ef5350 !important;
    cursor: not-allowed;
}

/* แดง */
.status-pending {
    background-color: #ffca28 !important;
    color: black !important;
}

/* เหลือง */
.status-free {
    background-color: #66bb6a !important;
}

/* เขียว */